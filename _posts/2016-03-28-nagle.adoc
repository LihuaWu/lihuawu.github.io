= 网络编程中使用nagle算法的影响

Nagle 算法自身工作得很好。它可以防止应用程序向网络洪泛地发送小报文，而且在大多数情况下，其性能至少不比没有实现这个算法的TCP差。

Nagle算法可能会与tcp的特性(延迟ACK)发生负作用，从而造成更大的时延。
	延迟ACK是指一个来自对等实体的段到达时，TCP会延迟ACK的发送，希望应用程序会对刚刚收到的数据进行应答，这样就可以将新数据将ACK捎带过去，延迟时间约为200ms。
    
发生这种情况的原因通常在于客户端做了一系列的写、写、读操作。一般来说，只要对等实体不立即响应，进行小规模写操作的应用程序都会碰到这种问题。

socket 可以通过设置TCP_NODELAY选项来禁止Nagle算法。将这个选项打开就可以禁止Nagle算法。

但在实际中，可以关闭Nagle算法，并不意味着应该将其关闭。有合法理由关闭的应用程序比不需要的应用程序少得多。 通过禁用Nagle获得性能的提升是以网络中小报文的增加为代价的。如果有足够的应用程序都采用这种做法，

